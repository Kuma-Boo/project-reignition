[gd_scene load_steps=119 format=3 uid="uid://c4kdj2x0c8h4m"]

[ext_resource type="PackedScene" uid="uid://bf54rji461r34" path="res://object/player/resource/model/Sonic.tscn" id="3_t0hx8"]
[ext_resource type="Script" path="res://object/player/resource/script/CharacterPathFollower.cs" id="6_80hf8"]
[ext_resource type="PackedScene" uid="uid://dq4rt7vk6a7kv" path="res://object/player/resource/component/lockon/Lockon.tscn" id="7"]
[ext_resource type="PackedScene" uid="uid://gp7nom61rmtj" path="res://object/player/resource/component/Effect.tscn" id="8_ni1dd"]
[ext_resource type="Script" path="res://object/player/resource/script/CharacterController.cs" id="10"]
[ext_resource type="PackedScene" uid="uid://dqb313n3ldim8" path="res://object/player/resource/component/Skills.tscn" id="13"]

[sub_resource type="Curve" id="Curve_0y4at"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.3, 0), 0.0, 0.0, 0, 0, Vector2(0.55, 1), 0.0777784, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="SphereMesh" id="SphereMesh_f0gyp"]

[sub_resource type="BoxMesh" id="BoxMesh_t4t3r"]
size = Vector3(0.5, 0.1, 1)

[sub_resource type="SphereShape3D" id="SphereShape3D_uookt"]
radius = 0.4

[sub_resource type="SphereShape3D" id="80"]
radius = 0.36

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_f60fx"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8rhvj"]
animation = &"balance-left-shuffle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b8cxl"]
animation = &"balance-right-shuffle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_atgbf"]
animation = &"balance-left-center"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u86wy"]
animation = &"balance-left-in"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2ejg3"]
animation = &"balance-left-out"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_gkyuj"]
blend_point_0/node = SubResource("AnimationNodeAnimation_atgbf")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_u86wy")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_2ejg3")
blend_point_2/pos = -1.0
sync = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hu110"]
animation = &"balance-right-center"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_11k7s"]
animation = &"balance-right-in"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4qbpl"]
animation = &"balance-right-out"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_81403"]
blend_point_0/node = SubResource("AnimationNodeAnimation_hu110")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_11k7s")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_4qbpl")
blend_point_2/pos = -1.0
sync = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ia40e"]
advance_mode = 2

[sub_resource type="Curve" id="Curve_hkfn0"]
_data = [Vector2(0, 0), 0.0, 2.83333, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o1o3s"]
xfade_time = 0.2
xfade_curve = SubResource("Curve_hkfn0")
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q61bm"]
xfade_time = 0.2
xfade_curve = SubResource("Curve_hkfn0")
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_h0t73"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8l6xv"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_3cou6"]
states/balance-left-shuffle/node = SubResource("AnimationNodeAnimation_8rhvj")
states/balance-left-shuffle/position = Vector2(648.6, 100)
states/balance-right-shuffle/node = SubResource("AnimationNodeAnimation_b8cxl")
states/balance-right-shuffle/position = Vector2(380.8, 99.92)
states/balance_left_blend/node = SubResource("AnimationNodeBlendSpace1D_gkyuj")
states/balance_left_blend/position = Vector2(648.28, 175.04)
states/balance_right_blend/node = SubResource("AnimationNodeBlendSpace1D_81403")
states/balance_right_blend/position = Vector2(380.768, 175.6)
transitions = ["Start", "balance-right-shuffle", SubResource("AnimationNodeStateMachineTransition_ia40e"), "balance-right-shuffle", "balance_right_blend", SubResource("AnimationNodeStateMachineTransition_o1o3s"), "balance-left-shuffle", "balance_left_blend", SubResource("AnimationNodeStateMachineTransition_q61bm"), "balance_left_blend", "balance-right-shuffle", SubResource("AnimationNodeStateMachineTransition_h0t73"), "balance_right_blend", "balance-left-shuffle", SubResource("AnimationNodeStateMachineTransition_8l6xv")]
graph_offset = Vector2(79, 58)

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_vhnku"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5e01x"]
animation = &"balance-wind-slow"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qsul3"]
animation = &"balance-wind-fast"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_pnwm8"]
blend_point_0/node = SubResource("AnimationNodeAnimation_5e01x")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_qsul3")
blend_point_1/pos = 1.0
min_space = 0.0
sync = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_gi378"]
graph_offset = Vector2(-448.621, 88.9877)
nodes/balance_speed/node = SubResource("AnimationNodeTimeScale_f60fx")
nodes/balance_speed/position = Vector2(80, 128)
nodes/balance_state/node = SubResource("AnimationNodeStateMachine_3cou6")
nodes/balance_state/position = Vector2(-320, 128)
nodes/wind_add/node = SubResource("AnimationNodeAdd2_vhnku")
nodes/wind_add/position = Vector2(-96, 128)
nodes/wind_blend/node = SubResource("AnimationNodeBlendSpace1D_pnwm8")
nodes/wind_blend/position = Vector2(-326.747, 292.917)
node_connections = [&"output", 0, &"balance_speed", &"balance_speed", 0, &"wind_add", &"wind_add", 0, &"balance_state", &"wind_add", 1, &"wind_blend"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hlmdu"]
animation = &"land"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_5botg"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_ptlv2"]
fadein_time = 0.1
fadeout_time = 0.4

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m3yux"]
animation = &"backflip"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kh4no"]
animation = &"fall-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ndh67"]
animation = &"fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0v11u"]
animation = &"backstep"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4ig5s"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_me7fr"]
animation = &"land"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_f46vi"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_4jhgi"]
sync = true
fadeout_time = 0.4

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_12v2k"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fuv2p"]
animation = &"jog"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v7ccr"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ofcwn"]
animation = &"jog"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vl1vi"]
animation = &"sprint"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_jet85"]
blend_point_0/node = SubResource("AnimationNodeAnimation_12v2k")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_fuv2p")
blend_point_1/pos = 0.3
blend_point_2/node = SubResource("AnimationNodeAnimation_v7ccr")
blend_point_2/pos = 1.0
blend_point_3/node = SubResource("AnimationNodeAnimation_ofcwn")
blend_point_3/pos = 0.9
blend_point_4/node = SubResource("AnimationNodeAnimation_vl1vi")
blend_point_4/pos = 1.2
min_space = 0.0
max_space = 1.2
sync = true

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_pf45a"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_pev3d"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_3ixi1"]
enabled_inputs = 3
xfade_time = 0.2
reset = false
input_0/name = "idle"
input_0/auto_advance = false
input_1/name = "forward"
input_1/auto_advance = false
input_2/name = "backward"
input_2/auto_advance = false

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_qscfu"]
filter_enabled = true
filters = ["SonicRoot/Skeleton3D:chest", "SonicRoot/Skeleton3D:head", "SonicRoot/Skeleton3D:stomach"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ycuov"]
animation = &"turn-left-walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_h6j21"]
animation = &"turn-right-walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2wrxk"]
animation = &"turn-right-run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bhysa"]
animation = &"turn-left-run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jj63b"]
animation = &"RESET"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uymue"]
animation = &"RESET"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wf8nh"]
animation = &"RESET"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_pei0v"]
blend_point_0/node = SubResource("AnimationNodeAnimation_ycuov")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_h6j21")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_2wrxk")
blend_point_2/pos = Vector2(1, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_bhysa")
blend_point_3/pos = Vector2(-1, 1)
blend_point_4/node = SubResource("AnimationNodeAnimation_jj63b")
blend_point_4/pos = Vector2(0, 0.5)
blend_point_5/node = SubResource("AnimationNodeAnimation_uymue")
blend_point_5/pos = Vector2(0, 0)
blend_point_6/node = SubResource("AnimationNodeAnimation_wf8nh")
blend_point_6/pos = Vector2(0, 1)
min_space = Vector2(-1, 0)
sync = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_vw7yp"]
graph_offset = Vector2(-924.176, 39.0679)
nodes/backstep_anim/node = SubResource("AnimationNodeAnimation_0v11u")
nodes/backstep_anim/position = Vector2(-1072, 288)
nodes/idle_anim/node = SubResource("AnimationNodeAnimation_4ig5s")
nodes/idle_anim/position = Vector2(-1072, -48)
nodes/land_anim/node = SubResource("AnimationNodeAnimation_me7fr")
nodes/land_anim/position = Vector2(-144, 320)
nodes/land_speed/node = SubResource("AnimationNodeTimeScale_f46vi")
nodes/land_speed/position = Vector2(0, 320)
nodes/land_trigger/node = SubResource("AnimationNodeOneShot_4jhgi")
nodes/land_trigger/position = Vector2(176, 96)
nodes/move_blend/node = SubResource("AnimationNodeBlendSpace1D_jet85")
nodes/move_blend/position = Vector2(-1072, 128)
nodes/move_seek/node = SubResource("AnimationNodeTimeSeek_pf45a")
nodes/move_seek/position = Vector2(-320, 80)
nodes/move_speed/node = SubResource("AnimationNodeTimeScale_pev3d")
nodes/move_speed/position = Vector2(-176, 80)
nodes/move_transition/node = SubResource("AnimationNodeTransition_3ixi1")
nodes/move_transition/position = Vector2(-768, 80)
nodes/output/position = Vector2(352, 96)
nodes/turn_add/node = SubResource("AnimationNodeAdd2_qscfu")
nodes/turn_add/position = Vector2(-512, 96)
nodes/turn_blend/node = SubResource("AnimationNodeBlendSpace2D_pei0v")
nodes/turn_blend/position = Vector2(-768, 320)
node_connections = [&"output", 0, &"land_trigger", &"land_speed", 0, &"land_anim", &"land_trigger", 0, &"move_speed", &"land_trigger", 1, &"land_speed", &"move_seek", 0, &"turn_add", &"move_speed", 0, &"move_seek", &"move_transition", 0, &"idle_anim", &"move_transition", 1, &"move_blend", &"move_transition", 2, &"backstep_anim", &"turn_add", 0, &"move_transition", &"turn_add", 1, &"turn_blend"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dpq8e"]
animation = &"hurt-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rop7w"]
animation = &"hurt"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pjy3d"]
animation = &"jump-accel-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r14q7"]
animation = &"jump-accel"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7wtfx"]
animation = &"jump-launch-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_05omd"]
animation = &"jump-launch"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o72mp"]
animation = &"jump-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qm7rg"]
animation = &"jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dyroj"]
xfade_time = 0.05
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gsw68"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_itkwq"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ri2be"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sdmv7"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_22ttm"]
xfade_time = 0.05
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_246cn"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q0wob"]
xfade_time = 0.05
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s44ac"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ebnxd"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7v1gm"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cgfve"]
xfade_time = 0.02
switch_mode = 1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_568sd"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vr1f8"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kyu2o"]
xfade_time = 0.05
priority = 0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rfrof"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_3p6g0"]
states/End/position = Vector2(540.8, 83.136)
states/Start/position = Vector2(301.197, 11.6533)
states/backflip/node = SubResource("AnimationNodeAnimation_m3yux")
states/backflip/position = Vector2(-107.378, 7.17294)
states/fall/node = SubResource("AnimationNodeAnimation_ndh67")
states/fall/position = Vector2(62.153, 82.4287)
states/fall-loop/node = SubResource("AnimationNodeAnimation_kh4no")
states/fall-loop/position = Vector2(61.558, 6.63835)
states/ground_tree/node = SubResource("AnimationNodeBlendTree_vw7yp")
states/ground_tree/position = Vector2(300.967, 83.1505)
states/hurt/node = SubResource("AnimationNodeAnimation_rop7w")
states/hurt/position = Vector2(299.981, 151.659)
states/hurt-loop/node = SubResource("AnimationNodeAnimation_dpq8e")
states/hurt-loop/position = Vector2(433.087, 153.099)
states/jump/node = SubResource("AnimationNodeAnimation_qm7rg")
states/jump/position = Vector2(-253.476, 82.3987)
states/jump-accel/node = SubResource("AnimationNodeAnimation_r14q7")
states/jump-accel/position = Vector2(-253.407, 154.485)
states/jump-accel-loop/node = SubResource("AnimationNodeAnimation_pjy3d")
states/jump-accel-loop/position = Vector2(-43.7668, 154.489)
states/jump-launch/node = SubResource("AnimationNodeAnimation_05omd")
states/jump-launch/position = Vector2(-114.377, 238.115)
states/jump-launch-loop/node = SubResource("AnimationNodeAnimation_7wtfx")
states/jump-launch-loop/position = Vector2(63.2869, 237.63)
states/jump-loop/node = SubResource("AnimationNodeAnimation_o72mp")
states/jump-loop/position = Vector2(-252.58, 8.06525)
transitions = ["jump", "jump-loop", SubResource("AnimationNodeStateMachineTransition_dyroj"), "jump-loop", "fall", SubResource("AnimationNodeStateMachineTransition_gsw68"), "fall", "fall-loop", SubResource("AnimationNodeStateMachineTransition_itkwq"), "backflip", "fall-loop", SubResource("AnimationNodeStateMachineTransition_ri2be"), "Start", "ground_tree", SubResource("AnimationNodeStateMachineTransition_sdmv7"), "jump-accel", "jump-accel-loop", SubResource("AnimationNodeStateMachineTransition_22ttm"), "jump-accel-loop", "fall", SubResource("AnimationNodeStateMachineTransition_246cn"), "jump-launch", "jump-launch-loop", SubResource("AnimationNodeStateMachineTransition_q0wob"), "jump-launch-loop", "fall", SubResource("AnimationNodeStateMachineTransition_s44ac"), "jump-accel-loop", "jump-launch-loop", SubResource("AnimationNodeStateMachineTransition_ebnxd"), "jump", "fall", SubResource("AnimationNodeStateMachineTransition_7v1gm"), "jump", "jump-accel", SubResource("AnimationNodeStateMachineTransition_cgfve"), "hurt", "hurt-loop", SubResource("AnimationNodeStateMachineTransition_568sd"), "hurt-loop", "ground_tree", SubResource("AnimationNodeStateMachineTransition_vr1f8"), "jump", "jump-launch", SubResource("AnimationNodeStateMachineTransition_kyu2o"), "jump-accel-loop", "jump-launch", SubResource("AnimationNodeStateMachineTransition_rfrof")]
graph_offset = Vector2(-402.913, -5)

[sub_resource type="AnimationNodeAnimation" id="131"]
animation = &"countdown"

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_ovnpd"]

[sub_resource type="AnimationNodeTransition" id="130"]
enabled_inputs = 4
input_0/name = "countdown"
input_0/auto_advance = false
input_1/name = "state 1"
input_1/auto_advance = false
input_2/name = "state 2"
input_2/auto_advance = false
input_3/name = "state 3"
input_3/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="132"]
graph_offset = Vector2(-239.554, 117.771)
nodes/countdown/node = SubResource("131")
nodes/countdown/position = Vector2(-176, 144)
nodes/oneshot_seek/node = SubResource("AnimationNodeTimeSeek_ovnpd")
nodes/oneshot_seek/position = Vector2(176, 144)
nodes/oneshot_transition/node = SubResource("130")
nodes/oneshot_transition/position = Vector2(-16, 144)
nodes/output/position = Vector2(336, 144)
node_connections = [&"output", 0, &"oneshot_seek", &"oneshot_seek", 0, &"oneshot_transition", &"oneshot_transition", 0, &"countdown"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_fl47a"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_akqxs"]
enabled_inputs = 2
input_0/name = "enabled"
input_0/auto_advance = false
input_1/name = "disabled"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_45rhv"]
animation = &"sidle-right-hang-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oi742"]
animation = &"sidle-left"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ylwlr"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aj2ai"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_5rs2g"]
states/sidle-hang-loop/node = SubResource("AnimationNodeAnimation_45rhv")
states/sidle-hang-loop/position = Vector2(365.92, 200.4)
states/sidle-loop/node = SubResource("AnimationNodeAnimation_oi742")
states/sidle-loop/position = Vector2(365.6, 100.08)
transitions = ["Start", "sidle-loop", SubResource("AnimationNodeStateMachineTransition_ylwlr"), "sidle-loop", "sidle-hang-loop", SubResource("AnimationNodeStateMachineTransition_aj2ai")]
graph_offset = Vector2(-8, 24)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_chcth"]
animation = &"sidle-right-damage-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xlsgi"]
animation = &"sidle-right-damage"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_g7sbn"]
animation = &"sidle-right-hang-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6cp2m"]
animation = &"sidle-right"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fxiye"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4ourv"]
xfade_time = 0.02

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vu4fp"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cbc3j"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_1auqs"]
states/sidle-damage/node = SubResource("AnimationNodeAnimation_xlsgi")
states/sidle-damage/position = Vector2(383.12, 169.12)
states/sidle-damage-loop/node = SubResource("AnimationNodeAnimation_chcth")
states/sidle-damage-loop/position = Vector2(381.486, 244.16)
states/sidle-hang-loop/node = SubResource("AnimationNodeAnimation_g7sbn")
states/sidle-hang-loop/position = Vector2(280.539, 321.8)
states/sidle-loop/node = SubResource("AnimationNodeAnimation_6cp2m")
states/sidle-loop/position = Vector2(382.4, 99.12)
transitions = ["Start", "sidle-loop", SubResource("AnimationNodeStateMachineTransition_fxiye"), "sidle-loop", "sidle-damage", SubResource("AnimationNodeStateMachineTransition_4ourv"), "sidle-damage", "sidle-damage-loop", SubResource("AnimationNodeStateMachineTransition_vu4fp"), "sidle-damage-loop", "sidle-hang-loop", SubResource("AnimationNodeStateMachineTransition_cbc3j")]
graph_offset = Vector2(7, -11)

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_75sr0"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_wadld"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_yi2da"]
graph_offset = Vector2(-555.054, 78.1287)
nodes/facing_right/node = SubResource("AnimationNodeTransition_akqxs")
nodes/facing_right/position = Vector2(-240, 144)
nodes/output/position = Vector2(288, 144)
nodes/sidle_left_state/node = SubResource("AnimationNodeStateMachine_5rs2g")
nodes/sidle_left_state/position = Vector2(-544, 288)
nodes/sidle_right_state/node = SubResource("AnimationNodeStateMachine_1auqs")
nodes/sidle_right_state/position = Vector2(-544, 144)
nodes/sidle_seek/node = SubResource("AnimationNodeTimeSeek_75sr0")
nodes/sidle_seek/position = Vector2(96, 144)
nodes/sidle_speed/node = SubResource("AnimationNodeTimeScale_wadld")
nodes/sidle_speed/position = Vector2(-64, 144)
node_connections = [&"output", 0, &"sidle_seek", &"facing_right", 0, &"sidle_right_state", &"facing_right", 1, &"sidle_left_state", &"sidle_seek", 0, &"sidle_speed", &"sidle_speed", 0, &"facing_right"]

[sub_resource type="AnimationNodeTransition" id="70"]
enabled_inputs = 3
input_0/name = "normal"
input_0/auto_advance = false
input_1/name = "balance"
input_1/auto_advance = false
input_2/name = "sidle"
input_2/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="37"]
graph_offset = Vector2(-836.978, 247.678)
nodes/balance_tree/node = SubResource("AnimationNodeBlendTree_gi378")
nodes/balance_tree/position = Vector2(-784, 288)
nodes/land_anim/node = SubResource("AnimationNodeAnimation_hlmdu")
nodes/land_anim/position = Vector2(-1264, 272)
nodes/land_speed/node = SubResource("AnimationNodeTimeScale_5botg")
nodes/land_speed/position = Vector2(-1088, 208)
nodes/land_trigger/node = SubResource("AnimationNodeOneShot_ptlv2")
nodes/land_trigger/position = Vector2(-928, 128)
nodes/normal_state/node = SubResource("AnimationNodeStateMachine_3p6g0")
nodes/normal_state/position = Vector2(-1264, 144)
nodes/oneshot_tree/node = SubResource("132")
nodes/oneshot_tree/position = Vector2(-176, 272)
nodes/oneshot_trigger/node = SubResource("AnimationNodeOneShot_fl47a")
nodes/oneshot_trigger/position = Vector2(48, 144)
nodes/sidle_tree/node = SubResource("AnimationNodeBlendTree_yi2da")
nodes/sidle_tree/position = Vector2(-784, 400)
nodes/state_transition/node = SubResource("70")
nodes/state_transition/position = Vector2(-560, 144)
node_connections = [&"output", 0, &"oneshot_trigger", &"land_speed", 0, &"land_anim", &"land_trigger", 0, &"normal_state", &"land_trigger", 1, &"land_speed", &"oneshot_trigger", 0, &"state_transition", &"oneshot_trigger", 1, &"oneshot_tree", &"state_transition", 0, &"land_trigger", &"state_transition", 1, &"balance_tree", &"state_transition", 2, &"sidle_tree"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_2b4v5"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_5h3hv"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_vxfug"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_dyk13"]

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("environmentCollider", "areaTrigger", "PathFollower", "Animator", "Effect", "Skills", "Lockon") groups=["player"]]
collision_layer = 2
collision_mask = 9
floor_stop_on_slope = false
floor_constant_speed = true
safe_margin = 0.008
script = ExtResource("10")
turningSpeedCurve = SubResource("Curve_0y4at")
jumpHeight = 4.8
jumpDashSpeed = 36.0
jumpDashPower = 4.0
jumpDashGravity = 18.0
jumpDashMaxGravity = -24.0
backflipHeight = 2.4
environmentCollider = NodePath("CollisionShape3D")
areaTrigger = NodePath("Components/AreaTrigger/CollisionShape3D")
PathFollower = NodePath("Components/PathFollower")
Animator = NodePath("Components/Sonic")
Effect = NodePath("Components/Effect")
Skills = NodePath("Components/Skills")
Lockon = NodePath("Components/Lockon")

[node name="Components" type="Node3D" parent="."]

[node name="PathFollower" type="PathFollow3D" parent="Components"]
visible = false
loop = false
script = ExtResource("6_80hf8")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Components/PathFollower"]
mesh = SubResource("SphereMesh_f0gyp")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Components/PathFollower/MeshInstance3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.4)
mesh = SubResource("BoxMesh_t4t3r")

[node name="Sonic" parent="Components" node_paths=PackedStringArray("animatorTree") instance=ExtResource("3_t0hx8")]
animatorTree = NodePath("../../AnimationTree")

[node name="Effect" parent="Components" instance=ExtResource("8_ni1dd")]

[node name="Skills" parent="Components" instance=ExtResource("13")]

[node name="Lockon" parent="Components" instance=ExtResource("7")]

[node name="AreaTrigger" type="Area3D" parent="Components" groups=["player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.36, 0)
collision_layer = 2
collision_mask = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Components/AreaTrigger"]
shape = SubResource("SphereShape3D_uookt")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.36, 0)
shape = SubResource("80")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("37")
anim_player = NodePath("../Components/Sonic/AnimationPlayer")
parameters/balance_tree/balance_speed/scale = 1.0
parameters/balance_tree/balance_state/playback = SubResource("AnimationNodeStateMachinePlayback_2b4v5")
parameters/balance_tree/balance_state/balance_left_blend/blend_position = 0
parameters/balance_tree/balance_state/balance_right_blend/blend_position = 0
parameters/balance_tree/wind_add/add_amount = 1.0
parameters/balance_tree/wind_blend/blend_position = 0.0
parameters/land_speed/scale = 1.2
parameters/land_trigger/active = false
parameters/land_trigger/request = 0
parameters/normal_state/playback = SubResource("AnimationNodeStateMachinePlayback_5h3hv")
parameters/normal_state/ground_tree/land_speed/scale = 1.2
parameters/normal_state/ground_tree/land_trigger/active = false
parameters/normal_state/ground_tree/land_trigger/request = 0
parameters/normal_state/ground_tree/move_blend/blend_position = 0.0
parameters/normal_state/ground_tree/move_seek/seek_position = -1.0
parameters/normal_state/ground_tree/move_speed/scale = 1.0
parameters/normal_state/ground_tree/move_transition/current_state = "idle"
parameters/normal_state/ground_tree/move_transition/transition_request = ""
parameters/normal_state/ground_tree/move_transition/current_index = 0
parameters/normal_state/ground_tree/turn_add/add_amount = 1.0
parameters/normal_state/ground_tree/turn_blend/blend_position = Vector2(0, 0)
parameters/oneshot_tree/oneshot_seek/seek_position = -1.0
parameters/oneshot_tree/oneshot_transition/current_state = ""
parameters/oneshot_tree/oneshot_transition/transition_request = ""
parameters/oneshot_tree/oneshot_transition/current_index = 0
parameters/oneshot_trigger/active = false
parameters/oneshot_trigger/request = 0
parameters/sidle_tree/facing_right/current_state = "enabled"
parameters/sidle_tree/facing_right/transition_request = ""
parameters/sidle_tree/facing_right/current_index = 0
parameters/sidle_tree/sidle_left_state/playback = SubResource("AnimationNodeStateMachinePlayback_vxfug")
parameters/sidle_tree/sidle_right_state/playback = SubResource("AnimationNodeStateMachinePlayback_dyk13")
parameters/sidle_tree/sidle_seek/seek_position = -1.0
parameters/sidle_tree/sidle_speed/scale = 0.0
parameters/state_transition/current_state = "normal"
parameters/state_transition/transition_request = ""
parameters/state_transition/current_index = 0

[connection signal="body_entered" from="Components/AreaTrigger" to="." method="OnObjectCollisionEnter"]
[connection signal="body_exited" from="Components/AreaTrigger" to="." method="OnObjectCollisionExit"]
