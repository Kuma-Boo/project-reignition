[gd_scene load_steps=91 format=3 uid="uid://c4kdj2x0c8h4m"]

[ext_resource type="PackedScene" uid="uid://bgnp37c4tu4hl" path="res://object/player/resource/model/Sonic.tscn" id="3_qo3fe"]
[ext_resource type="Script" path="res://object/player/resource/script/CharacterPathFollower.cs" id="6_80hf8"]
[ext_resource type="PackedScene" path="res://object/player/resource/component/lockon/Lockon.tscn" id="7"]
[ext_resource type="PackedScene" uid="uid://15w5fdq35eni" path="res://object/player/resource/component/Effect.tscn" id="8_ni1dd"]
[ext_resource type="Script" path="res://object/player/resource/script/CharacterController.cs" id="10"]
[ext_resource type="PackedScene" uid="uid://dqb313n3ldim8" path="res://object/player/resource/component/Skills.tscn" id="13"]

[sub_resource type="Curve" id="Curve_0y4at"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.3, 0), 0.0, 0.0, 0, 0, Vector2(0.55, 1), 0.0777784, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="SphereMesh" id="SphereMesh_f0gyp"]

[sub_resource type="BoxMesh" id="BoxMesh_t4t3r"]
size = Vector3(0.5, 0.1, 1)

[sub_resource type="SphereShape3D" id="SphereShape3D_uookt"]
radius = 0.4

[sub_resource type="SphereShape3D" id="80"]
radius = 0.36

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n4iqq"]
animation = &"balance-right-center"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vlsne"]
animation = &"balance-right-out"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fec0s"]
animation = &"balance-right-in"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_am3mw"]
blend_point_0/node = SubResource("AnimationNodeAnimation_n4iqq")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_vlsne")
blend_point_1/pos = -1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_fec0s")
blend_point_2/pos = 1.0
sync = true

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_7sdrx"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_axgko"]

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_exi4h"]
filter_enabled = true
filters = ["SonicRoot/Skeleton3D:bottom_spline01", "SonicRoot/Skeleton3D:bottom_spline02", "SonicRoot/Skeleton3D:l_arm01", "SonicRoot/Skeleton3D:l_arm02", "SonicRoot/Skeleton3D:l_bottom_spline01", "SonicRoot/Skeleton3D:l_bottom_spline02", "SonicRoot/Skeleton3D:l_hand", "SonicRoot/Skeleton3D:l_middle01", "SonicRoot/Skeleton3D:l_middle02", "SonicRoot/Skeleton3D:l_middle03", "SonicRoot/Skeleton3D:l_pinky01", "SonicRoot/Skeleton3D:l_pinky02", "SonicRoot/Skeleton3D:l_pinky03", "SonicRoot/Skeleton3D:l_pointer01", "SonicRoot/Skeleton3D:l_pointer02", "SonicRoot/Skeleton3D:l_pointer03", "SonicRoot/Skeleton3D:l_ring01", "SonicRoot/Skeleton3D:l_ring02", "SonicRoot/Skeleton3D:l_ring03", "SonicRoot/Skeleton3D:l_thumb01", "SonicRoot/Skeleton3D:l_thumb02", "SonicRoot/Skeleton3D:l_toe", "SonicRoot/Skeleton3D:l_top_spline01", "SonicRoot/Skeleton3D:l_top_spline02", "SonicRoot/Skeleton3D:r_arm01", "SonicRoot/Skeleton3D:r_arm02", "SonicRoot/Skeleton3D:r_bottom_spline01", "SonicRoot/Skeleton3D:r_bottom_spline02", "SonicRoot/Skeleton3D:r_hand", "SonicRoot/Skeleton3D:r_middle01", "SonicRoot/Skeleton3D:r_middle02", "SonicRoot/Skeleton3D:r_middle03", "SonicRoot/Skeleton3D:r_pinky01", "SonicRoot/Skeleton3D:r_pinky02", "SonicRoot/Skeleton3D:r_pinky03", "SonicRoot/Skeleton3D:r_pointer01", "SonicRoot/Skeleton3D:r_pointer02", "SonicRoot/Skeleton3D:r_pointer03", "SonicRoot/Skeleton3D:r_ring01", "SonicRoot/Skeleton3D:r_ring02", "SonicRoot/Skeleton3D:r_ring03", "SonicRoot/Skeleton3D:r_thumb01", "SonicRoot/Skeleton3D:r_thumb02", "SonicRoot/Skeleton3D:r_toe", "SonicRoot/Skeleton3D:r_top_spline01", "SonicRoot/Skeleton3D:r_top_spline02", "SonicRoot/Skeleton3D:stomach", "SonicRoot/Skeleton3D:top_spline01", "SonicRoot/Skeleton3D:top_spline02"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vd0tr"]
animation = &"balance-wind-slow"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8aruy"]
animation = &"balance-wind-fast"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_ww8cs"]
blend_point_0/node = SubResource("AnimationNodeAnimation_vd0tr")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8aruy")
blend_point_1/pos = 1.0
min_space = 0.0
sync = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_jopfw"]
graph_offset = Vector2(-520.213, 49.3651)
nodes/balance_blend/node = SubResource("AnimationNodeBlendSpace1D_am3mw")
nodes/balance_blend/position = Vector2(-368, 144)
nodes/balance_seek/node = SubResource("AnimationNodeTimeSeek_7sdrx")
nodes/balance_seek/position = Vector2(16, 144)
nodes/balance_speed/node = SubResource("AnimationNodeTimeScale_axgko")
nodes/balance_speed/position = Vector2(192, 144)
nodes/output/position = Vector2(368, 144)
nodes/wind_add/node = SubResource("AnimationNodeAdd2_exi4h")
nodes/wind_add/position = Vector2(-160, 144)
nodes/wind_blend/node = SubResource("AnimationNodeBlendSpace1D_ww8cs")
nodes/wind_blend/position = Vector2(-368, 272)
node_connections = [&"output", 0, &"balance_speed", &"balance_seek", 0, &"wind_add", &"balance_speed", 0, &"balance_seek", &"wind_add", 0, &"balance_blend", &"wind_add", 1, &"wind_blend"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_efpg7"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_w7hoj"]
states/lean_right_tree/node = SubResource("AnimationNodeBlendTree_jopfw")
states/lean_right_tree/position = Vector2(460.8, 99.76)
transitions = ["Start", "lean_right_tree", SubResource("AnimationNodeStateMachineTransition_efpg7")]
graph_offset = Vector2(2, -1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hlmdu"]
animation = &"land"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_5botg"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_ptlv2"]
fadein_time = 0.1
fadeout_time = 0.4

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m3yux"]
animation = &"backflip"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kh4no"]
animation = &"fall-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ndh67"]
animation = &"fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0v11u"]
animation = &"backstep"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_d55ma"]
sync = true
enabled_inputs = 2
xfade_time = 0.1
from_start = false
input_0/name = "enabled"
input_0/auto_advance = false
input_1/name = "disabled"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4ig5s"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_me7fr"]
animation = &"land"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_f46vi"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_4jhgi"]
sync = true
fadeout_time = 0.4

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_12v2k"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fuv2p"]
animation = &"jog"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v7ccr"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ofcwn"]
animation = &"jog"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vl1vi"]
animation = &"sprint"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_jet85"]
blend_point_0/node = SubResource("AnimationNodeAnimation_12v2k")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_fuv2p")
blend_point_1/pos = 0.3
blend_point_2/node = SubResource("AnimationNodeAnimation_v7ccr")
blend_point_2/pos = 1.0
blend_point_3/node = SubResource("AnimationNodeAnimation_ofcwn")
blend_point_3/pos = 0.9
blend_point_4/node = SubResource("AnimationNodeAnimation_vl1vi")
blend_point_4/pos = 1.2
min_space = 0.0
max_space = 1.2
sync = true

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_pf45a"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_pev3d"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_3ixi1"]
enabled_inputs = 2
xfade_time = 0.1
from_start = false
input_0/name = "idle"
input_0/auto_advance = false
input_1/name = "move"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_qscfu"]
filter_enabled = true
filters = ["SonicRoot/Skeleton3D:chest", "SonicRoot/Skeleton3D:head", "SonicRoot/Skeleton3D:stomach"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ycuov"]
animation = &"turn-left-walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_h6j21"]
animation = &"turn-right-walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2wrxk"]
animation = &"turn-right-run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bhysa"]
animation = &"turn-left-run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jj63b"]
animation = &"RESET"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uymue"]
animation = &"RESET"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wf8nh"]
animation = &"RESET"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_pei0v"]
blend_point_0/node = SubResource("AnimationNodeAnimation_ycuov")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_h6j21")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_2wrxk")
blend_point_2/pos = Vector2(1, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_bhysa")
blend_point_3/pos = Vector2(-1, 1)
blend_point_4/node = SubResource("AnimationNodeAnimation_jj63b")
blend_point_4/pos = Vector2(0, 0.5)
blend_point_5/node = SubResource("AnimationNodeAnimation_uymue")
blend_point_5/pos = Vector2(0, 0)
blend_point_6/node = SubResource("AnimationNodeAnimation_wf8nh")
blend_point_6/pos = Vector2(0, 1)
min_space = Vector2(-1, 0)
sync = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_vw7yp"]
graph_offset = Vector2(-618.779, 38.4453)
nodes/Animation/node = SubResource("AnimationNodeAnimation_0v11u")
nodes/Animation/position = Vector2(-864, 96)
nodes/backstep_transition/node = SubResource("AnimationNodeTransition_d55ma")
nodes/backstep_transition/position = Vector2(-576, 176)
nodes/idle_anim/node = SubResource("AnimationNodeAnimation_4ig5s")
nodes/idle_anim/position = Vector2(-240, -64)
nodes/land_anim/node = SubResource("AnimationNodeAnimation_me7fr")
nodes/land_anim/position = Vector2(-128, 272)
nodes/land_speed/node = SubResource("AnimationNodeTimeScale_f46vi")
nodes/land_speed/position = Vector2(16, 272)
nodes/land_trigger/node = SubResource("AnimationNodeOneShot_4jhgi")
nodes/land_trigger/position = Vector2(176, 96)
nodes/move_blend/node = SubResource("AnimationNodeBlendSpace1D_jet85")
nodes/move_blend/position = Vector2(-1056, 240)
nodes/move_seek/node = SubResource("AnimationNodeTimeSeek_pf45a")
nodes/move_seek/position = Vector2(-368, 144)
nodes/move_speed/node = SubResource("AnimationNodeTimeScale_pev3d")
nodes/move_speed/position = Vector2(-224, 144)
nodes/move_transition/node = SubResource("AnimationNodeTransition_3ixi1")
nodes/move_transition/position = Vector2(-32, 96)
nodes/output/position = Vector2(352, 96)
nodes/turn_add/node = SubResource("AnimationNodeAdd2_qscfu")
nodes/turn_add/position = Vector2(-864, 240)
nodes/turn_blend/node = SubResource("AnimationNodeBlendSpace2D_pei0v")
nodes/turn_blend/position = Vector2(-1056, 368)
node_connections = [&"output", 0, &"land_trigger", &"backstep_transition", 0, &"Animation", &"backstep_transition", 1, &"turn_add", &"land_speed", 0, &"land_anim", &"land_trigger", 0, &"move_transition", &"land_trigger", 1, &"land_speed", &"move_seek", 0, &"backstep_transition", &"move_speed", 0, &"move_seek", &"move_transition", 0, &"idle_anim", &"move_transition", 1, &"move_speed", &"turn_add", 0, &"move_blend", &"turn_add", 1, &"turn_blend"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pjy3d"]
animation = &"jump-accel-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r14q7"]
animation = &"jump-accel"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7wtfx"]
animation = &"jump-launch-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_05omd"]
animation = &"jump-launch"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o72mp"]
animation = &"jump-loop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qm7rg"]
animation = &"jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dyroj"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gsw68"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_itkwq"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ri2be"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sdmv7"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_22ttm"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_246cn"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q0wob"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s44ac"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ebnxd"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_oycie"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7v1gm"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cgfve"]
xfade_time = 0.05
switch_mode = 1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_3p6g0"]
states/End/position = Vector2(540.8, 83.136)
states/Start/position = Vector2(301.197, 11.6533)
states/backflip/node = SubResource("AnimationNodeAnimation_m3yux")
states/backflip/position = Vector2(-105.778, 9.20369)
states/fall/node = SubResource("AnimationNodeAnimation_ndh67")
states/fall/position = Vector2(62.153, 82.4287)
states/fall-loop/node = SubResource("AnimationNodeAnimation_kh4no")
states/fall-loop/position = Vector2(62.4769, 9.80827)
states/ground_tree/node = SubResource("AnimationNodeBlendTree_vw7yp")
states/ground_tree/position = Vector2(300.254, 83.4976)
states/jump/node = SubResource("AnimationNodeAnimation_qm7rg")
states/jump/position = Vector2(-253.476, 82.3987)
states/jump-accel/node = SubResource("AnimationNodeAnimation_r14q7")
states/jump-accel/position = Vector2(-253.407, 154.485)
states/jump-accel-loop/node = SubResource("AnimationNodeAnimation_pjy3d")
states/jump-accel-loop/position = Vector2(-43.7668, 154.489)
states/jump-launch/node = SubResource("AnimationNodeAnimation_05omd")
states/jump-launch/position = Vector2(-44.0166, 225.656)
states/jump-launch-loop/node = SubResource("AnimationNodeAnimation_7wtfx")
states/jump-launch-loop/position = Vector2(134.63, 225.63)
states/jump-loop/node = SubResource("AnimationNodeAnimation_o72mp")
states/jump-loop/position = Vector2(-252.58, 8.06525)
transitions = ["jump", "jump-loop", SubResource("AnimationNodeStateMachineTransition_dyroj"), "jump-loop", "fall", SubResource("AnimationNodeStateMachineTransition_gsw68"), "fall", "fall-loop", SubResource("AnimationNodeStateMachineTransition_itkwq"), "backflip", "fall-loop", SubResource("AnimationNodeStateMachineTransition_ri2be"), "Start", "ground_tree", SubResource("AnimationNodeStateMachineTransition_sdmv7"), "jump-accel", "jump-accel-loop", SubResource("AnimationNodeStateMachineTransition_22ttm"), "jump-accel-loop", "fall", SubResource("AnimationNodeStateMachineTransition_246cn"), "jump-launch", "jump-launch-loop", SubResource("AnimationNodeStateMachineTransition_q0wob"), "jump-launch-loop", "fall", SubResource("AnimationNodeStateMachineTransition_s44ac"), "jump-accel-loop", "jump-launch-loop", SubResource("AnimationNodeStateMachineTransition_ebnxd"), "jump-accel-loop", "jump-launch", SubResource("AnimationNodeStateMachineTransition_oycie"), "jump", "fall", SubResource("AnimationNodeStateMachineTransition_7v1gm"), "jump", "jump-accel", SubResource("AnimationNodeStateMachineTransition_cgfve")]
graph_offset = Vector2(-162.913, -11)

[sub_resource type="AnimationNodeAnimation" id="131"]
animation = &"countdown"

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_ovnpd"]

[sub_resource type="AnimationNodeTransition" id="130"]
enabled_inputs = 4
input_0/name = "countdown"
input_0/auto_advance = false
input_1/name = "state 1"
input_1/auto_advance = false
input_2/name = "state 2"
input_2/auto_advance = false
input_3/name = "state 3"
input_3/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="132"]
graph_offset = Vector2(-239.554, 117.771)
nodes/countdown/node = SubResource("131")
nodes/countdown/position = Vector2(-176, 144)
nodes/oneshot_seek/node = SubResource("AnimationNodeTimeSeek_ovnpd")
nodes/oneshot_seek/position = Vector2(176, 144)
nodes/oneshot_transition/node = SubResource("130")
nodes/oneshot_transition/position = Vector2(-16, 144)
nodes/output/position = Vector2(336, 144)
node_connections = [&"output", 0, &"oneshot_seek", &"oneshot_seek", 0, &"oneshot_transition", &"oneshot_transition", 0, &"countdown"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_fl47a"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_akqxs"]
enabled_inputs = 2
input_0/name = "enabled"
input_0/auto_advance = false
input_1/name = "disabled"
input_1/auto_advance = false

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i28j1"]
animation = &"sidle-left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fuo5p"]
animation = &"sidle-right"

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_75sr0"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_wadld"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_yi2da"]
graph_offset = Vector2(-576.217, 88.5802)
nodes/facing_right/node = SubResource("AnimationNodeTransition_akqxs")
nodes/facing_right/position = Vector2(-272, 128)
nodes/output/position = Vector2(288, 144)
nodes/sidle_left_anim/node = SubResource("AnimationNodeAnimation_i28j1")
nodes/sidle_left_anim/position = Vector2(-496, 240)
nodes/sidle_right_anim/node = SubResource("AnimationNodeAnimation_fuo5p")
nodes/sidle_right_anim/position = Vector2(-496, 128)
nodes/sidle_seek/node = SubResource("AnimationNodeTimeSeek_75sr0")
nodes/sidle_seek/position = Vector2(48, 128)
nodes/sidle_speed/node = SubResource("AnimationNodeTimeScale_wadld")
nodes/sidle_speed/position = Vector2(-112, 128)
node_connections = [&"output", 0, &"sidle_seek", &"facing_right", 0, &"sidle_right_anim", &"facing_right", 1, &"sidle_left_anim", &"sidle_seek", 0, &"sidle_speed", &"sidle_speed", 0, &"facing_right"]

[sub_resource type="AnimationNodeTransition" id="70"]
enabled_inputs = 3
input_0/name = "normal"
input_0/auto_advance = false
input_1/name = "balancing"
input_1/auto_advance = false
input_2/name = "sidle"
input_2/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id="37"]
graph_offset = Vector2(-783.17, 211.639)
nodes/balance_state/node = SubResource("AnimationNodeStateMachine_w7hoj")
nodes/balance_state/position = Vector2(-768, 368)
nodes/land_anim/node = SubResource("AnimationNodeAnimation_hlmdu")
nodes/land_anim/position = Vector2(-976, 304)
nodes/land_speed/node = SubResource("AnimationNodeTimeScale_5botg")
nodes/land_speed/position = Vector2(-800, 240)
nodes/land_trigger/node = SubResource("AnimationNodeOneShot_ptlv2")
nodes/land_trigger/position = Vector2(-640, 160)
nodes/normal_state/node = SubResource("AnimationNodeStateMachine_3p6g0")
nodes/normal_state/position = Vector2(-976, 176)
nodes/oneshot_tree/node = SubResource("132")
nodes/oneshot_tree/position = Vector2(-176, 272)
nodes/oneshot_trigger/node = SubResource("AnimationNodeOneShot_fl47a")
nodes/oneshot_trigger/position = Vector2(48, 144)
nodes/sidle_tree/node = SubResource("AnimationNodeBlendTree_yi2da")
nodes/sidle_tree/position = Vector2(-608, 416)
nodes/state_transition/node = SubResource("70")
nodes/state_transition/position = Vector2(-416, 176)
node_connections = [&"output", 0, &"oneshot_trigger", &"land_speed", 0, &"land_anim", &"land_trigger", 0, &"normal_state", &"land_trigger", 1, &"land_speed", &"oneshot_trigger", 0, &"state_transition", &"oneshot_trigger", 1, &"oneshot_tree", &"state_transition", 0, &"land_trigger", &"state_transition", 1, &"balance_state", &"state_transition", 2, &"sidle_tree"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_uyu7t"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_5h3hv"]

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("environmentCollider", "PathFollower", "Animator", "Effect", "Skills", "Lockon") groups=["player"]]
collision_layer = 2
collision_mask = 9
floor_stop_on_slope = false
floor_constant_speed = true
safe_margin = 0.01
script = ExtResource("10")
turningSpeedCurve = SubResource("Curve_0y4at")
landingBoost = 32.0
jumpHeight = 4.8
jumpDashSpeed = 36.0
jumpDashPower = 4.0
jumpDashGravity = 18.0
jumpDashMaxGravity = -24.0
backflipHeight = 2.4
environmentCollider = NodePath("CollisionShape3D")
PathFollower = NodePath("Components/PathFollower")
Animator = NodePath("Components/Sonic")
Effect = NodePath("Components/Effect")
Skills = NodePath("Components/Skills")
Lockon = NodePath("Components/Lockon")

[node name="Components" type="Node3D" parent="."]

[node name="PathFollower" type="PathFollow3D" parent="Components"]
visible = false
loop = false
script = ExtResource("6_80hf8")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Components/PathFollower"]
mesh = SubResource("SphereMesh_f0gyp")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Components/PathFollower/MeshInstance3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.4)
mesh = SubResource("BoxMesh_t4t3r")

[node name="Sonic" parent="Components" node_paths=PackedStringArray("animatorTree") instance=ExtResource("3_qo3fe")]
animatorTree = NodePath("../../AnimationTree")

[node name="Skills" parent="Components" instance=ExtResource("13")]

[node name="Effect" parent="Components" instance=ExtResource("8_ni1dd")]

[node name="Lockon" parent="Components" instance=ExtResource("7")]

[node name="ObjectTrigger" type="Area3D" parent="Components" groups=["player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.36, 0)
collision_layer = 2
collision_mask = 9

[node name="Trigger" type="CollisionShape3D" parent="Components/ObjectTrigger"]
shape = SubResource("SphereShape3D_uookt")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.36, 0)
shape = SubResource("80")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("37")
anim_player = NodePath("../Components/Sonic/AnimationPlayer")
process_callback = 0
parameters/balance_state/playback = SubResource("AnimationNodeStateMachinePlayback_uyu7t")
parameters/balance_state/lean_right_tree/balance_blend/blend_position = 0.0
parameters/balance_state/lean_right_tree/balance_seek/seek_position = -1.0
parameters/balance_state/lean_right_tree/balance_speed/scale = 1.0
parameters/balance_state/lean_right_tree/wind_add/add_amount = 1.0
parameters/balance_state/lean_right_tree/wind_blend/blend_position = 0.0
parameters/land_speed/scale = 1.2
parameters/land_trigger/active = false
parameters/normal_state/playback = SubResource("AnimationNodeStateMachinePlayback_5h3hv")
parameters/normal_state/ground_tree/backstep_transition/current = 1
parameters/normal_state/ground_tree/land_speed/scale = 1.2
parameters/normal_state/ground_tree/land_trigger/active = false
parameters/normal_state/ground_tree/move_blend/blend_position = 0.0
parameters/normal_state/ground_tree/move_seek/seek_position = -1.0
parameters/normal_state/ground_tree/move_speed/scale = 1.0
parameters/normal_state/ground_tree/move_transition/current = 0
parameters/normal_state/ground_tree/turn_add/add_amount = 1.0
parameters/normal_state/ground_tree/turn_blend/blend_position = Vector2(0, 0)
parameters/oneshot_tree/oneshot_seek/seek_position = -1.0
parameters/oneshot_tree/oneshot_transition/current = 0
parameters/oneshot_trigger/active = false
parameters/sidle_tree/facing_right/current = 0
parameters/sidle_tree/sidle_seek/seek_position = -1.0
parameters/sidle_tree/sidle_speed/scale = 0.0
parameters/state_transition/current = 0

[connection signal="body_entered" from="Components/ObjectTrigger" to="." method="OnObjectCollisionEnter"]
[connection signal="body_exited" from="Components/ObjectTrigger" to="." method="OnObjectCollisionExit"]
