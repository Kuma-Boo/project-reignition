[gd_scene load_steps=17 format=3 uid="uid://djiic1e32bnw2"]

[ext_resource type="PackedScene" uid="uid://c3l3nu6tsl0n3" path="res://area/stage/2 dino jungle/act 1/data/environment/model/RiverEvent.gltf" id="1_1k1ub"]
[ext_resource type="PackedScene" uid="uid://bn6wr6l8s3qyt" path="res://object/trigger/StageTrigger.tscn" id="2_xncad"]
[ext_resource type="Script" path="res://object/trigger/modules/EventTrigger.cs" id="3_y4k3i"]
[ext_resource type="Script" path="res://object/trigger/modules/DialogTrigger.cs" id="4_bj8oa"]
[ext_resource type="AudioStream" uid="uid://dv78gach1n623" path="res://sound/voice/dinosaur jungle/sonic/en/DIN01_E03_SN.wav" id="5_rbll2"]
[ext_resource type="AudioStream" uid="uid://g78oxmovdckl" path="res://sound/voice/dinosaur jungle/shahra/en/DIN01_E03_SH.wav" id="6_kxuy7"]
[ext_resource type="AudioStream" uid="uid://dbffnnofhrf1p" path="res://sound/voice/dinosaur jungle/sonic/en/DIN01_E04_SN.wav" id="7_174u7"]
[ext_resource type="AudioStream" uid="uid://dhh7iv8mc40il" path="res://sound/voice/dinosaur jungle/shahra/en/DIN01_E04_SH.wav" id="8_tb1cu"]
[ext_resource type="AudioStream" uid="uid://sp1bndbeuycy" path="res://sound/voice/dinosaur jungle/sonic/ja/DIN01_E03_SN.wav" id="9_s518h"]
[ext_resource type="AudioStream" uid="uid://4j38o5w8u0wx" path="res://sound/voice/dinosaur jungle/shahra/ja/DIN01_E03_SH.wav" id="10_8xiwe"]
[ext_resource type="AudioStream" uid="uid://bvidc0df72j81" path="res://sound/voice/dinosaur jungle/sonic/ja/DIN01_E04_SN.wav" id="11_ygmu7"]
[ext_resource type="AudioStream" uid="uid://k7opx8jyyy1l" path="res://sound/voice/dinosaur jungle/shahra/ja/DIN01_E04_SH.wav" id="12_xlrmt"]

[sub_resource type="Animation" id="Animation_l3fdx"]
resource_name = "RESET"
length = 0.001
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [0.0, true],
"method": &"seek"
}]
}

[sub_resource type="Animation" id="Animation_hdoe6"]
resource_name = "event"
length = 4.0
step = 0.0333333
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["river-event", -1, 1.0, false],
"method": &"play"
}]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../StageTrigger/FallsEvent")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 3.46667),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [0],
"method": &"PlayDialog"
}, {
"args": [0.0, -30.0],
"method": &"FinishEvent"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hl5y4"]
_data = {
"RESET": SubResource("Animation_l3fdx"),
"event": SubResource("Animation_hdoe6")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_msrs8"]
size = Vector3(14, 20, 8)

[node name="River" type="Node3D"]

[node name="RiverEvent" parent="." instance=ExtResource("1_1k1ub")]

[node name="Skeleton3D" parent="RiverEvent/RiverEventRoot" index="0"]
bones/1/position = Vector3(-5.84648, -0.372488, -1.62967)
bones/2/position = Vector3(-2.10467, -0.367521, -1.51601)
bones/2/rotation = Quaternion(-0.500022, 0.500026, 0.499982, -0.49997)
bones/3/position = Vector3(1.14805, -0.233665, -1.64873)
bones/3/rotation = Quaternion(-0.500008, 0.500013, 0.49998, -0.499999)
bones/4/position = Vector3(4.88927, -0.397547, -1.64872)
bones/4/rotation = Quaternion(-0.500011, 0.500015, 0.499995, -0.499978)
bones/5/position = Vector3(2.21504, -1.56993, -1.64874)
bones/6/position = Vector3(2.21505, 0.701587, -1.64873)
bones/6/rotation = Quaternion(-0.500012, 0.500016, 0.500039, -0.499934)
bones/7/position = Vector3(1.4709, 53.6931, 8.46531)
bones/8/rotation = Quaternion(-0.121753, 0.0432943, 0.00531587, 0.991601)

[node name="PlayerBone" type="BoneAttachment3D" parent="RiverEvent/RiverEventRoot/Skeleton3D" index="0"]
transform = Transform3D(0.996195, -0.0210849, 0.084567, 2.23517e-08, 0.970296, 0.241921, -0.0871559, -0.241001, 0.966604, -192.479, -36.637, -476.295)
bone_name = "player"
bone_idx = 8

[node name="Player" type="Node3D" parent="RiverEvent/RiverEventRoot/Skeleton3D/PlayerBone"]
transform = Transform3D(-1, 0, -8.9407e-08, 0, 1, 1.49012e-08, 8.19564e-08, 0, -1, 0, 0, 0)

[node name="Camera" type="BoneAttachment3D" parent="RiverEvent/RiverEventRoot/Skeleton3D" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -185.129, -34.637, -472.886)
bone_name = "camera"
bone_idx = 9

[node name="StageTrigger" parent="." instance=ExtResource("2_xncad")]
transform = Transform3D(0.996195, 0, 0.0871557, 0, 1, 0, -0.0871557, 0, 0.996195, -192.58, -27.92, -476.569)

[node name="FallsEvent" type="Node3D" parent="StageTrigger" node_paths=PackedStringArray("animator", "playerStandin", "cameraStandin")]
script = ExtResource("3_y4k3i")
animator = NodePath("AnimationPlayer")
playerStandin = NodePath("../../RiverEvent/RiverEventRoot/Skeleton3D/PlayerBone/Player")
cameraStandin = NodePath("../../RiverEvent/RiverEventRoot/Skeleton3D/Camera")

[node name="Dialog" type="Node3D" parent="StageTrigger/FallsEvent"]
script = ExtResource("4_bj8oa")
delays = [0.0, 0.4, 1.0, 0.0]
displayLength = []
textKeys = ["din_event_river_so", "din_event_river_sh", "din_event_river_so2", "din_event_river_sh2"]
englishVoiceClips = [ExtResource("5_rbll2"), ExtResource("6_kxuy7"), ExtResource("7_174u7"), ExtResource("8_tb1cu")]
japaneseVoiceClips = [ExtResource("9_s518h"), ExtResource("10_8xiwe"), ExtResource("11_ygmu7"), ExtResource("12_xlrmt")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="StageTrigger/FallsEvent"]
root_node = NodePath("../../../RiverEvent")
libraries = {
"": SubResource("AnimationLibrary_hl5y4")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="StageTrigger"]
shape = SubResource("BoxShape3D_msrs8")

[editable path="RiverEvent"]
