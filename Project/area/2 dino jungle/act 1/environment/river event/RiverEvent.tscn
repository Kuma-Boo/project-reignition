[gd_scene load_steps=8 format=3 uid="uid://dumttajjtpqta"]

[ext_resource type="Script" path="res://object/trigger/modules/EventTrigger.cs" id="1_8cup1"]
[ext_resource type="PackedScene" uid="uid://bpm4bnrc0twqf" path="res://area/2 dino jungle/act 1/environment/river event/RiverEvent.gltf" id="1_wmk6n"]
[ext_resource type="Resource" uid="uid://bxgjkovm2u880" path="res://resource/preset/lockout/run/StopLockout.tres" id="2_qspwl"]
[ext_resource type="Script" path="res://object/trigger/modules/CameraTrigger.cs" id="3_4d2ap"]
[ext_resource type="AudioStream" uid="uid://cbgfmexm35fhk" path="res://sound/sfx/stage/dinosaur jungle/event river.ogg" id="3_6r8nl"]
[ext_resource type="Resource" uid="uid://bfbyijcgdiudd" path="res://area/2 dino jungle/act 1/camera/BoatCam.tres" id="6_cchpk"]
[ext_resource type="Resource" uid="uid://ukcne4um86a6" path="res://resource/preset/camera/common/CutsceneCam.tres" id="7_c7d3t"]

[node name="RiverEvent" type="Node3D" node_paths=PackedStringArray("animator")]
script = ExtResource("1_8cup1")
"Trigger Settings/Automatically Respawn" = true
"Trigger Settings/Is One Shot" = true
"Trigger Settings/Player Stand-in" = NodePath("PlayerBone/Player")
"Player Event Settings/Animation" = &"dj_a1_river_event"
"Player Event Settings/Animation Fadeout Time" = 0.2
"Player Event Settings/Position Smoothing" = 0.0
"Player Event Settings/Normalize Exit Move Speed" = true
"Player Event Settings/Exit Move Speed" = 0.0
"Player Event Settings/Exit Vertical Speed" = -15.0
"Player Event Settings/Exit Lockout" = ExtResource("2_qspwl")
animator = NodePath("RiverEvent/AnimationPlayer")

[node name="RiverEvent" parent="." instance=ExtResource("1_wmk6n")]

[node name="Skeleton3D" parent="RiverEvent/RiverEventRoot" index="0"]
bones/2/rotation = Quaternion(-0.500022, 0.500026, 0.499982, -0.49997)
bones/3/rotation = Quaternion(-0.500008, 0.500013, 0.49998, -0.499999)
bones/4/rotation = Quaternion(-0.500011, 0.500015, 0.499995, -0.499978)
bones/6/rotation = Quaternion(-0.500012, 0.500016, 0.500039, -0.499934)
bones/8/rotation = Quaternion(-0.121753, 0.0432943, 0.00531587, 0.991602)
bones/9/position = Vector3(7.81476, -15.5345, 0.694639)
bones/9/rotation = Quaternion(-0.40558, -0.579228, -0.40558, 0.579228)

[node name="AnimationPlayer" parent="RiverEvent" index="1"]
callback_mode_process = 0

[node name="PlayerBone" type="BoneAttachment3D" parent="."]
transform = Transform3D(0.996195, -0.0210849, 0.0845669, 3.35276e-08, 0.970296, 0.241921, -0.0871558, -0.241001, 0.966604, 0.868011, 2.4655, 18.728)
bone_name = "player"
bone_idx = 8
use_external_skeleton = true
external_skeleton = NodePath("../RiverEvent/RiverEventRoot/Skeleton3D")

[node name="Player" type="Node3D" parent="PlayerBone"]

[node name="Camera" type="BoneAttachment3D" parent="."]
transform = Transform3D(5.96046e-08, 0.939693, -0.34202, -2.98023e-08, 0.34202, 0.939693, 1, 0, 5.96046e-08, 7.81476, -15.5345, 0.694639)
bone_name = "camera"
bone_idx = 9
use_external_skeleton = true
external_skeleton = NodePath("../RiverEvent/RiverEventRoot/Skeleton3D")

[node name="CameraReference" type="Camera3D" parent="Camera"]
fov = 60.0

[node name="CameraTrigger" type="Node3D" parent="Camera/CameraReference" node_paths=PackedStringArray("referenceCamera")]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 0, 1, 0, 0, 0)
script = ExtResource("3_4d2ap")
UpdateEveryFrame = true
settings = ExtResource("7_c7d3t")
referenceCamera = NodePath("..")

[node name="CameraDeactivateTrigger" type="Node3D" parent="Camera/CameraReference"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 0, 1, 0, 0, 0)
script = ExtResource("3_4d2ap")
transitionTime = 0.5
transitionType = 1
settings = ExtResource("6_cchpk")

[node name="RiverSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_6r8nl")
bus = &"GAME SFX"

[connection signal="Activated" from="." to="Camera/CameraReference/CameraTrigger" method="Activate"]
[connection signal="EventFinished" from="." to="Camera/CameraReference/CameraDeactivateTrigger" method="Activate"]

[editable path="RiverEvent"]
