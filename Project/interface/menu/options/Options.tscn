[gd_scene load_steps=24 format=3 uid="uid://bwehljjnagemy"]

[ext_resource type="Script" path="res://interface/menu/options/script/Options.cs" id="1_yejdm"]
[ext_resource type="Material" uid="uid://jpwdaxh0ckoc" path="res://interface/menu/options/environment/material/Menu Overlay.tres" id="2_g15f7"]
[ext_resource type="Material" uid="uid://ph7gwhlyucdx" path="res://effect/particle/material/environment/Common Dust Add.tres" id="2_gtq52"]
[ext_resource type="PackedScene" uid="uid://5temnwxjglvx" path="res://interface/menu/options/environment/ControlBook.tscn" id="2_hmq0t"]
[ext_resource type="Script" path="res://object/stage/StageSettings.cs" id="2_x1aix"]
[ext_resource type="PackedScene" uid="uid://c4kdj2x0c8h4m" path="res://object/player/Sonic.tscn" id="3_4o0co"]
[ext_resource type="Resource" uid="uid://dhsn8grwbru0d" path="res://interface/menu/options/camera/ControlTestCamera.tres" id="3_jnp5r"]
[ext_resource type="Script" path="res://object/trigger/modules/CheckpointTrigger.cs" id="4_g52h3"]
[ext_resource type="PackedScene" uid="uid://boo3c0dnk36vn" path="res://object/player/Camera.tscn" id="5_1klrf"]
[ext_resource type="Resource" uid="uid://bn72cja883581" path="res://interface/menu/options/camera/OptionsCamera.tres" id="5_jmxg0"]
[ext_resource type="FontFile" uid="uid://dqhxie6ryk82j" path="res://interface/font/otf/Greco Std DB.otf" id="7_5wjas"]
[ext_resource type="Script" path="res://object/trigger/modules/JumpTrigger.cs" id="8_7asuc"]
[ext_resource type="Texture2D" uid="uid://bmsu8uq8tp6gy" path="res://interface/menu/options/texture/key_base.png" id="8_66qrj"]
[ext_resource type="Texture2D" uid="uid://js0na2rtpuke" path="res://interface/menu/level select/texture/level select atlas.png" id="9_yjhgu"]
[ext_resource type="Script" path="res://object/trigger/modules/CameraTrigger.cs" id="11_3t47u"]

[sub_resource type="Curve3D" id="Curve3D_eqptd"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -5),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve" id="Curve_gac2s"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.208904, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_emfc0"]
width = 64
texture_mode = 1
curve = SubResource("Curve_gac2s")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_yt67y"]
emission_shape = 3
emission_box_extents = Vector3(8, 1, 0)
direction = Vector3(0, 1, 0)
spread = 0.0
initial_velocity_min = 5.0
initial_velocity_max = 10.0
angular_velocity_min = -50.0
angular_velocity_max = 50.0
gravity = Vector3(0, 0, 0)
damping_min = 2.0
damping_max = 5.0
scale_max = 1.5
color = Color(0.501961, 0.529412, 0.843137, 1)
alpha_curve = SubResource("CurveTexture_emfc0")

[sub_resource type="QuadMesh" id="QuadMesh_5ggik"]
material = ExtResource("2_gtq52")
size = Vector2(5, 5)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ap680"]
sky_top_color = Color(0.596078, 0.521569, 0.52549, 1)
sky_horizon_color = Color(0.776471, 0.654902, 0.607843, 1)
ground_bottom_color = Color(0.0901961, 0.113725, 0.301961, 1)
ground_horizon_color = Color(0.482353, 0.556863, 0.752941, 1)

[sub_resource type="Sky" id="Sky_qkpod"]
sky_material = SubResource("ProceduralSkyMaterial_ap680")

[sub_resource type="Environment" id="Environment_xk4ou"]
background_mode = 1
sky = SubResource("Sky_qkpod")
ambient_light_source = 2
ambient_light_color = Color(0.501961, 0.470588, 0.380392, 1)
tonemap_mode = 2
tonemap_white = 1.2
ssao_enabled = true
ssil_enabled = true

[node name="Options" type="Control" node_paths=PackedStringArray("menuViewport")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_yejdm")
menuOverlay = ExtResource("2_g15f7")
menuViewport = NodePath("SubViewportContainer/SubViewport")
metadata/_edit_lock_ = true

[node name="ControlBook" parent="." instance=ExtResource("2_hmq0t")]
script = ExtResource("2_x1aix")
"Level ID" = ""
"Mission Type" = 0
"Time Limit" = 0.0
"Camera Settings" = ExtResource("5_jmxg0")
"Story Event Index" = -1
"Dialog Library" = null
"Item Cycling/Activation Trigger" = NodePath("")
"Ranking/Skip Score" = false
"Ranking/Gold Time" = 0
"Ranking/Silver Time" = 0
"Ranking/Bronze Time" = 0
"Ranking/Gold Score" = 0
"Ranking/Silver Score" = 0
"Ranking/Bronze Score" = 0
Completion/Delay = 0.0
Completion/Lockout = null
"Completion/Demo Animator" = NodePath("")
"Static/Path Parent" = NodePath("../Path")
Static/Environment = NodePath("../Visuals/WorldEnvironment")

[node name="PlayerSpawn" type="Node3D" parent="ControlBook"]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, -1.2, 8, -8)
script = ExtResource("4_g52h3")

[node name="Player" parent="ControlBook/PlayerSpawn" node_paths=PackedStringArray("Camera") instance=ExtResource("3_4o0co")]
process_mode = 4
Camera = NodePath("../Camera")

[node name="Camera" parent="ControlBook/PlayerSpawn" instance=ExtResource("5_1klrf")]

[node name="Jump" type="Node3D" parent="ControlBook"]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, -1.2, -1.8, 0)

[node name="Jump" type="Node3D" parent="ControlBook/Jump"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8, 8)
script = ExtResource("8_7asuc")
jumpHeight = 15.0

[node name="ControlTestCamera" type="Node3D" parent="ControlBook"]
script = ExtResource("11_3t47u")
transitionTime = 0.5
settings = ExtResource("3_jnp5r")
previousSettings = ExtResource("5_jmxg0")

[node name="Path" type="Node3D" parent="."]

[node name="MainPath" type="Path3D" parent="Path"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0.2, 2)
curve = SubResource("Curve3D_eqptd")

[node name="Visuals" type="Node3D" parent="."]

[node name="EnvironmentLight" type="DirectionalLight3D" parent="Visuals"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
layers = 1024
light_color = Color(0.803922, 0.803922, 1, 1)
light_cull_mask = 2
shadow_enabled = true

[node name="CharacterLight" type="DirectionalLight3D" parent="Visuals"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
layers = 1024
light_cull_mask = 64

[node name="Fog" type="GPUParticles3D" parent="Visuals"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -4, 4)
layers = 32
emitting = false
amount = 128
lifetime = 2.0
preprocess = 5.0
fixed_fps = 60
interpolate = false
visibility_aabb = AABB(-4, 0, -4, 8, 8, 8)
local_coords = true
process_material = SubResource("ParticleProcessMaterial_yt67y")
draw_pass_1 = SubResource("QuadMesh_5ggik")

[node name="WorldEnvironment" type="WorldEnvironment" parent="Visuals"]
environment = SubResource("Environment_xk4ou")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
layout_mode = 0
offset_top = 1216.0
offset_right = 2048.0
offset_bottom = 2240.0

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
disable_3d = true
transparent_bg = true
handle_input_locally = false
gui_disable_input = true
positional_shadow_atlas_size = 0
positional_shadow_atlas_quad_0 = 0
positional_shadow_atlas_quad_1 = 0
positional_shadow_atlas_quad_2 = 0
positional_shadow_atlas_quad_3 = 0
size = Vector2i(2048, 1024)
render_target_update_mode = 4

[node name="Base" type="Control" parent="SubViewportContainer/SubViewport"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Cursor" type="Control" parent="SubViewportContainer/SubViewport/Base"]
layout_mode = 1
anchors_preset = 0
offset_left = 1100.0
offset_top = 400.0
offset_right = 1100.0
offset_bottom = 400.0

[node name="Left" type="Sprite2D" parent="SubViewportContainer/SubViewport/Base/Cursor"]
position = Vector2(40, 0)
rotation = 1.5708
scale = Vector2(2, 2)
texture = ExtResource("9_yjhgu")
offset = Vector2(32, 0)
flip_h = true
region_enabled = true
region_rect = Rect2(0, 120, 60, 40)

[node name="Right" type="Sprite2D" parent="SubViewportContainer/SubViewport/Base/Cursor"]
position = Vector2(880, 0)
rotation = -1.57079
scale = Vector2(2, 2)
texture = ExtResource("9_yjhgu")
offset = Vector2(-32, 0)
region_enabled = true
region_rect = Rect2(0, 120, 60, 40)

[node name="Controls" type="Control" parent="SubViewportContainer/SubViewport/Base"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LSide" type="Control" parent="SubViewportContainer/SubViewport/Base/Controls"]
modulate = Color(0.705882, 0.0705882, 0, 1)
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -1024.0
offset_top = 160.0
offset_right = -174.0
offset_bottom = -124.0
grow_horizontal = 0
grow_vertical = 2

[node name="Menu" type="Label" parent="SubViewportContainer/SubViewport/Base/Controls/LSide"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 81.0
grow_horizontal = 2
theme_override_fonts/font = ExtResource("7_5wjas")
theme_override_font_sizes/font_size = 80
text = "actions"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true

[node name="ActionControls" type="VBoxContainer" parent="SubViewportContainer/SubViewport/Base/Controls/LSide"]
layout_mode = 1
anchors_preset = 13
anchor_left = 0.5
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -420.0
offset_top = 100.0
offset_right = 420.0
offset_bottom = 99.9998
grow_horizontal = 2
grow_vertical = 2

[node name="ControlOption" type="Control" parent="SubViewportContainer/SubViewport/Base/Controls/LSide/ActionControls"]
custom_minimum_size = Vector2(840, 128)
layout_mode = 2

[node name="ActionLabel" type="Label" parent="SubViewportContainer/SubViewport/Base/Controls/LSide/ActionControls/ControlOption"]
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_left = 128.0
offset_top = -4.0
offset_right = 389.0
offset_bottom = -4.0
grow_vertical = 2
theme_override_fonts/font = ExtResource("7_5wjas")
theme_override_font_sizes/font_size = 80
text = "jump"
vertical_alignment = 1
uppercase = true

[node name="Input" type="Control" parent="SubViewportContainer/SubViewport/Base/Controls/LSide/ActionControls/ControlOption"]
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -256.0
offset_right = -64.0
grow_horizontal = 0
grow_vertical = 2

[node name="ButtonSprite" type="TextureRect" parent="SubViewportContainer/SubViewport/Base/Controls/LSide/ActionControls/ControlOption/Input"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("8_66qrj")
stretch_mode = 3

[node name="InputLabel" type="Label" parent="SubViewportContainer/SubViewport/Base/Controls/LSide/ActionControls/ControlOption/Input"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(96, 64)
theme_override_fonts/font = ExtResource("7_5wjas")
theme_override_font_sizes/font_size = 32
text = "A"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true

[node name="Camera2D" type="Camera2D" parent="SubViewportContainer/SubViewport"]
anchor_mode = 0
